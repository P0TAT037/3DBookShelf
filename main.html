<!DOCTYPE html>
<html>
  <head>
    <title>main</title>
    <link rel="stylesheet" src="css/bookStyle.css" />
    
  </head>

  <body style="background-color: #9bc4d4">
    <div id='lib'></div>
    
    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.12.313/build/pdf.min.js"></script>
    <script src="turnjs4/lib/turn.min.js"></script>
    
    <script src="js/generateBooks.js"></script>
    <script src="js/renderBook.js"></script>
    
    <script>
      function turn(bookDir) {
       
        console.log("started turn");

        var bookDiv = document.getElementById(bookDir);
        document.querySelectorAll('.bookImg').forEach(bookImg => {
          bookImg.hidden = true;
        });

        renderBook(bookDir, doit); 

       
      }
      
      function doit(bDir, w, h){
          var div = document.getElementById(bDir);
  
          $(div).turn({
            width: w,
            height: h,
            display: 'double',
            autoCenter: true,
          });
          document.getElementById(bDir).hidden = false; 
          console.log("turn should be done");
        }
    </script>

  </body>
</html>
