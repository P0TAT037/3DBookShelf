<!DOCTYPE html>
<html>
  <head>
    <title>main</title>
    <link rel="stylesheet" src="css/bookStyle.css" />
    
  </head>

  <body style="background-color: #9bc4d4">
    <div id='lib'></div>
    <div id = 'options'></div>
    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.12.313/build/pdf.min.js"></script>
    <script src="turnjs4/lib/turn.min.js"></script>
    
    <script src="js/generateBooks.js"></script>
    <script src="js/renderBook.js"></script>
    
    <script>
      
      function options(bdr)
      {
        document.querySelectorAll('.bookImg').forEach(bookImg => {
          bookImg.hidden = true;
        });
        var optionsHtml = '<input type="button" class="option" value=Download onclick="">\n<input type="button" class="option" value="Read" onclick='+"turn('"+bdr+"')>" 
        document.getElementById('options').innerHTML = optionsHtml
        console.log(optionsHtml);
        renderBook(bdr);  
      }
      
      function turn(bookDir) {
       
        console.log("started turn");

        var bookDiv = document.getElementById(bookDir);
       
        var w = getWidth;
        var h = getHeight;
          $(bookDiv).turn({
            width: w,
            height: h,
            display: 'double',
            autoCenter: true,
          });

          document.getElementById(bookDir).hidden = false; 
          console.log("turn should be done");
          
          document.querySelectorAll('.option').forEach(option => {
            option.hidden = true;
        });
      }

    </script>

  </body>
</html>
